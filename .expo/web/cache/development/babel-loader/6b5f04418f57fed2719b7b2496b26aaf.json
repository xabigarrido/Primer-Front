{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { Button } from \"@react-native-material/core\";\nimport React, { useRef, useState, useEffect } from \"react\";\nimport MesaImg from \"../assets/mesas.png\";\nimport { BottomSheetModal, BottomSheetModalProvider } from \"@gorhom/bottom-sheet\";\nimport { addMesa, getMesas } from \"../api\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar PickMesasScreen = function PickMesasScreen(_ref) {\n  var navigation = _ref.navigation;\n  var bottomSheetModalRef = useRef(null);\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      numero = _useState2[0],\n      setNumero = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      mesas = _useState4[0],\n      setMesas = _useState4[1];\n\n  var snapPoints = [\"25%\", \"75%\"];\n\n  function handlePresentModal() {\n    var _bottomSheetModalRef$;\n\n    (_bottomSheetModalRef$ = bottomSheetModalRef.current) == null ? void 0 : _bottomSheetModalRef$.present();\n  }\n\n  var handleCrearMesa = function handleCrearMesa() {\n    if (numero == null) {\n      Alert.alert(\"Debes poner un numero\");\n    } else {\n      var _bottomSheetModalRef$2;\n\n      (_bottomSheetModalRef$2 = bottomSheetModalRef.current) == null ? void 0 : _bottomSheetModalRef$2.close();\n      addMesa(numero);\n      loadMesas();\n    }\n  };\n\n  var loadMesas = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var data = yield getMesas();\n      setMesas(data);\n    });\n\n    return function loadMesas() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    loadMesas();\n  }, [numero]);\n  return _jsx(BottomSheetModalProvider, {\n    children: _jsxs(ScrollView, {\n      style: {\n        backgroundColor: \"black\"\n      },\n      contentContainerStyle: {\n        flexGrow: 1,\n        justifyContent: \"center\"\n      },\n      children: [_jsx(View, {\n        style: style.containerGeneral,\n        children: _jsx(View, {\n          style: style.containerMesas,\n          children: mesas.map(function (mesa, index) {\n            return _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                navigation.navigate(\"ComandaScreen\", {\n                  idMesa: mesa._id\n                });\n              },\n              children: _jsxs(View, {\n                style: style.containerMesa,\n                children: [_jsx(View, {\n                  style: style.containerImg,\n                  children: _jsx(Text, {\n                    style: {\n                      fontSize: 22,\n                      fontWeight: \"900\"\n                    },\n                    children: mesa.numeroMesa\n                  })\n                }), _jsx(Image, {\n                  source: MesaImg,\n                  style: style.styleImg\n                })]\n              })\n            }, index);\n          })\n        })\n      }), _jsx(BottomSheetModal, {\n        ref: bottomSheetModalRef,\n        index: 1,\n        snapPoints: snapPoints,\n        backgroundStyle: {\n          borderRadius: 50,\n          backgroundColor: \"#F7F7F7\",\n          shadowColor: \"#000\",\n          shadowOffset: {\n            width: 0,\n            height: 2\n          },\n          shadowOpacity: 0.25,\n          shadowRadius: 3.84,\n          elevation: 5,\n          zIndex: 0\n        },\n        onDismiss: function onDismiss() {\n          return setNumero(null);\n        },\n        children: _jsx(View, {\n          style: style.contentContainer,\n          children: _jsxs(View, {\n            style: style.containerModal,\n            children: [_jsx(TextInput, {\n              style: style.textInput,\n              placeholder: \"Numero mesa\",\n              keyboardType: \"numeric\",\n              onChangeText: function onChangeText(text) {\n                return setNumero(text);\n              }\n            }), _jsx(Button, {\n              title: \"Crear\",\n              onPress: function onPress() {\n                return handleCrearMesa();\n              }\n            })]\n          })\n        })\n      })]\n    })\n  });\n};\n\nvar style = StyleSheet.create({\n  containerModal: {\n    width: \"100%\",\n    height: \"100%\",\n    padding: 10,\n    alignItems: \"center\"\n  },\n  textInput: {\n    padding: 10,\n    width: \"80%\",\n    height: 50,\n    borderWidth: 1,\n    borderRadius: 10,\n    marginBottom: 10\n  },\n  containerGeneral: {\n    flex: 1,\n    padding: 5,\n    alignItems: \"center\"\n  },\n  containerMesas: {\n    backgroundColor: \"#E5E5E5\",\n    borderRadius: 5,\n    paddingVertical: 15,\n    paddingHorizontal: 8,\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n    justifyContent: \"center\",\n    width: \"100%\",\n    height: \"100%\",\n    zIndex: 0\n  },\n  styleImg: {\n    width: 65,\n    height: 65,\n    margin: 5\n  },\n  containerMesa: {\n    position: \"relative\",\n    width: 66,\n    height: 66,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    borderRadius: 10,\n    borderColor: \"gray\",\n    zIndex: 0\n  },\n  containerImg: {\n    position: \"absolute\",\n    zIndex: 1000,\n    backgroundColor: \"#FFFFFF\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    top: -10,\n    paddingHorizontal: 5,\n    borderRadius: 5,\n    shadowColor: \"#000\",\n    shadowOffset: {\n      width: 0,\n      height: 3\n    },\n    shadowOpacity: 0.29,\n    shadowRadius: 4.65,\n    elevation: 7\n  },\n  containerButton: {\n    width: \"100%\",\n    backgroundColor: \"#E5E5E5\",\n    padding: 10,\n    marginVertical: 5\n  },\n  contentContainer: {\n    flex: 1,\n    paddingHorizontal: 15\n  }\n});\nexport default PickMesasScreen;","map":{"version":3,"names":["Button","React","useRef","useState","useEffect","MesaImg","BottomSheetModal","BottomSheetModalProvider","addMesa","getMesas","PickMesasScreen","navigation","bottomSheetModalRef","numero","setNumero","mesas","setMesas","snapPoints","handlePresentModal","current","present","handleCrearMesa","Alert","alert","close","loadMesas","data","backgroundColor","flexGrow","justifyContent","style","containerGeneral","containerMesas","map","mesa","index","navigate","idMesa","_id","containerMesa","containerImg","fontSize","fontWeight","numeroMesa","styleImg","borderRadius","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","zIndex","contentContainer","containerModal","textInput","text","StyleSheet","create","padding","alignItems","borderWidth","marginBottom","flex","paddingVertical","paddingHorizontal","flexDirection","flexWrap","margin","position","borderColor","top","containerButton","marginVertical"],"sources":["C:/Users/xabig/Desktop/ProyectoPiconera2/clientev2/screens/PickMesaScreen.js"],"sourcesContent":["import {\r\n  View,\r\n  Text,\r\n  ScrollView,\r\n  StyleSheet,\r\n  Image,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  Alert,\r\n} from \"react-native\";\r\nimport { Button } from \"@react-native-material/core\";\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\nimport MesaImg from \"../assets/mesas.png\";\r\nimport {\r\n  BottomSheetModal,\r\n  BottomSheetModalProvider,\r\n} from \"@gorhom/bottom-sheet\";\r\nimport { addMesa, getMesas } from \"../api\";\r\nconst PickMesasScreen = ({ navigation }) => {\r\n  const bottomSheetModalRef = useRef(null);\r\n  const [numero, setNumero] = useState(null);\r\n  const [mesas, setMesas] = useState([]);\r\n  const snapPoints = [\"25%\", \"75%\"];\r\n  function handlePresentModal() {\r\n    bottomSheetModalRef.current?.present();\r\n  }\r\n  const handleCrearMesa = () => {\r\n    if (numero == null) {\r\n      Alert.alert(\"Debes poner un numero\");\r\n    } else {\r\n      bottomSheetModalRef.current?.close();\r\n      addMesa(numero);\r\n      loadMesas();\r\n    }\r\n  };\r\n\r\n  const loadMesas = async () => {\r\n    const data = await getMesas();\r\n    setMesas(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadMesas();\r\n  }, [numero]);\r\n  return (\r\n    <BottomSheetModalProvider>\r\n      <ScrollView\r\n        style={{\r\n          backgroundColor: \"black\",\r\n        }}\r\n        contentContainerStyle={{ flexGrow: 1, justifyContent: \"center\" }}\r\n      >\r\n        <View style={style.containerGeneral}>\r\n          <View style={style.containerMesas}>\r\n            {mesas.map((mesa, index) => (\r\n              <TouchableOpacity\r\n                key={index}\r\n                onPress={() => {\r\n                    navigation.navigate(\"ComandaScreen\", {\r\n                      idMesa: mesa._id,\r\n                    });\r\n                  }}\r\n              >\r\n                <View style={style.containerMesa}>\r\n                  <View style={style.containerImg}>\r\n                    <Text style={{ fontSize: 22, fontWeight: \"900\" }}>\r\n                      {mesa.numeroMesa}\r\n                    </Text>\r\n                  </View>\r\n                  <Image source={MesaImg} style={style.styleImg} />\r\n                </View>\r\n              </TouchableOpacity>\r\n            ))}\r\n          </View>\r\n        </View>\r\n        <BottomSheetModal\r\n          ref={bottomSheetModalRef}\r\n          index={1}\r\n          snapPoints={snapPoints}\r\n          backgroundStyle={{\r\n            borderRadius: 50,\r\n            backgroundColor: \"#F7F7F7\",\r\n            shadowColor: \"#000\",\r\n            shadowOffset: {\r\n              width: 0,\r\n              height: 2,\r\n            },\r\n            shadowOpacity: 0.25,\r\n            shadowRadius: 3.84,\r\n\r\n            elevation: 5,\r\n            zIndex: 0,\r\n          }}\r\n          onDismiss={() => setNumero(null)}\r\n        >\r\n          <View style={style.contentContainer}>\r\n            <View style={style.containerModal}>\r\n              <TextInput\r\n                style={style.textInput}\r\n                placeholder=\"Numero mesa\"\r\n                keyboardType=\"numeric\"\r\n                onChangeText={(text) => setNumero(text)}\r\n              />\r\n              <Button title=\"Crear\" onPress={() => handleCrearMesa()} />\r\n            </View>\r\n          </View>\r\n        </BottomSheetModal>\r\n      </ScrollView>\r\n    </BottomSheetModalProvider>\r\n  );\r\n};\r\n\r\nconst style = StyleSheet.create({\r\n  containerModal: {\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    padding: 10,\r\n    alignItems: \"center\",\r\n  },\r\n  textInput: {\r\n    padding: 10,\r\n    width: \"80%\",\r\n    height: 50,\r\n    borderWidth: 1,\r\n    borderRadius: 10,\r\n    marginBottom: 10,\r\n  },\r\n  containerGeneral: { flex: 1, padding: 5, alignItems: \"center\" },\r\n  containerMesas: {\r\n    backgroundColor: \"#E5E5E5\",\r\n    borderRadius: 5,\r\n    paddingVertical: 15,\r\n    paddingHorizontal: 8,\r\n    flexDirection: \"row\",\r\n    flexWrap: \"wrap\",\r\n    justifyContent: \"center\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    zIndex: 0,\r\n  },\r\n  styleImg: { width: 65, height: 65, margin: 5 },\r\n  containerMesa: {\r\n    position: \"relative\",\r\n    width: 66,\r\n    height: 66,\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: 10,\r\n    borderColor: \"gray\",\r\n    zIndex: 0,\r\n  },\r\n  containerImg: {\r\n    position: \"absolute\",\r\n    zIndex: 1000,\r\n    backgroundColor: \"#FFFFFF\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    top: -10,\r\n    paddingHorizontal: 5,\r\n    borderRadius: 5,\r\n    shadowColor: \"#000\",\r\n    shadowOffset: {\r\n      width: 0,\r\n      height: 3,\r\n    },\r\n    shadowOpacity: 0.29,\r\n    shadowRadius: 4.65,\r\n\r\n    elevation: 7,\r\n  },\r\n  containerButton: {\r\n    width: \"100%\",\r\n    backgroundColor: \"#E5E5E5\",\r\n    padding: 10,\r\n    marginVertical: 5,\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    paddingHorizontal: 15,\r\n  },\r\n});\r\nexport default PickMesasScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { createPermissionHook, Platform, UnavailabilityError } from 'expo-modules-core';\nimport NotificationPermissionsModule from \"./NotificationPermissionsModule\";\nexport function getPermissionsAsync() {\n  return _getPermissionsAsync.apply(this, arguments);\n}\n\nfunction _getPermissionsAsync() {\n  _getPermissionsAsync = _asyncToGenerator(function* () {\n    if (!NotificationPermissionsModule.getPermissionsAsync) {\n      throw new UnavailabilityError('Notifications', 'getPermissionsAsync');\n    }\n\n    return yield NotificationPermissionsModule.getPermissionsAsync();\n  });\n  return _getPermissionsAsync.apply(this, arguments);\n}\n\nexport function requestPermissionsAsync(_x) {\n  return _requestPermissionsAsync.apply(this, arguments);\n}\n\nfunction _requestPermissionsAsync() {\n  _requestPermissionsAsync = _asyncToGenerator(function* (permissions) {\n    if (!NotificationPermissionsModule.requestPermissionsAsync) {\n      throw new UnavailabilityError('Notifications', 'requestPermissionsAsync');\n    }\n\n    var requestedPermissions = permissions != null ? permissions : {\n      ios: {\n        allowAlert: true,\n        allowBadge: true,\n        allowSound: true\n      }\n    };\n    var requestedPlatformPermissions = requestedPermissions[Platform.OS];\n    return yield NotificationPermissionsModule.requestPermissionsAsync(requestedPlatformPermissions);\n  });\n  return _requestPermissionsAsync.apply(this, arguments);\n}\n\nexport var usePermissions = createPermissionHook({\n  requestMethod: requestPermissionsAsync,\n  getMethod: getPermissionsAsync\n});","map":{"version":3,"sources":["../src/NotificationPermissions.ts"],"names":[],"mappings":";AAAA,SAAS,oBAAT,EAA+B,QAA/B,EAAyC,mBAAzC,QAAoE,mBAApE;AAMA,OAAO,6BAAP;AAEA,gBAAsB,mBAAtB;EAAA;AAAA;;;2CAAO,aAAkC;IACvC,IAAI,CAAC,6BAA6B,CAAC,mBAAnC,EAAwD;MACtD,MAAM,IAAI,mBAAJ,CAAwB,eAAxB,EAAyC,qBAAzC,CAAN;IACD;;IAED,aAAa,6BAA6B,CAAC,mBAA9B,EAAb;EACD,C;;;;AAED,gBAAsB,uBAAtB;EAAA;AAAA;;;+CAAO,WAAuC,WAAvC,EAAmF;IACxF,IAAI,CAAC,6BAA6B,CAAC,uBAAnC,EAA4D;MAC1D,MAAM,IAAI,mBAAJ,CAAwB,eAAxB,EAAyC,yBAAzC,CAAN;IACD;;IAED,IAAM,oBAAoB,GAAG,WAAH,WAAG,WAAH,GAAkB;MAC1C,GAAG,EAAE;QACH,UAAU,EAAE,IADT;QAEH,UAAU,EAAE,IAFT;QAGH,UAAU,EAAE;MAHT;IADqC,CAA5C;IAOA,IAAM,4BAA4B,GAAG,oBAAoB,CAAC,QAAQ,CAAC,EAAV,CAAzD;IACA,aAAa,6BAA6B,CAAC,uBAA9B,CAAsD,4BAAtD,CAAb;EACD,C;;;;AAYD,OAAO,IAAM,cAAc,GAAG,oBAAoB,CAGhD;EACA,aAAa,EAAE,uBADf;EAEA,SAAS,EAAE;AAFX,CAHgD,CAA3C","sourcesContent":["import { createPermissionHook, Platform, UnavailabilityError } from 'expo-modules-core';\n\nimport {\n  NotificationPermissionsRequest,\n  NotificationPermissionsStatus,\n} from './NotificationPermissions.types';\nimport NotificationPermissionsModule from './NotificationPermissionsModule';\n\nexport async function getPermissionsAsync() {\n  if (!NotificationPermissionsModule.getPermissionsAsync) {\n    throw new UnavailabilityError('Notifications', 'getPermissionsAsync');\n  }\n\n  return await NotificationPermissionsModule.getPermissionsAsync();\n}\n\nexport async function requestPermissionsAsync(permissions?: NotificationPermissionsRequest) {\n  if (!NotificationPermissionsModule.requestPermissionsAsync) {\n    throw new UnavailabilityError('Notifications', 'requestPermissionsAsync');\n  }\n\n  const requestedPermissions = permissions ?? {\n    ios: {\n      allowAlert: true,\n      allowBadge: true,\n      allowSound: true,\n    },\n  };\n  const requestedPlatformPermissions = requestedPermissions[Platform.OS];\n  return await NotificationPermissionsModule.requestPermissionsAsync(requestedPlatformPermissions);\n}\n\n// @needsAudit\n/**\n * Check or request permissions to send and receive push notifications.\n * This uses both `requestPermissionsAsync` and `getPermissionsAsync` to interact with the permissions.\n *\n * @example\n * ```ts\n * const [status, requestPermission] = Notifications.usePermissions();\n * ```\n */\nexport const usePermissions = createPermissionHook<\n  NotificationPermissionsStatus,\n  NotificationPermissionsRequest\n>({\n  requestMethod: requestPermissionsAsync,\n  getMethod: getPermissionsAsync,\n});\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport \"react-native-gesture-handler\";\nimport \"react-native-get-random-values\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { BottomSheetModal, BottomSheetModalProvider } from \"@gorhom/bottom-sheet\";\nimport { useRef, useState, useEffect } from \"react\";\nimport { API, getProducts, addComanda, getMesa } from \"../api\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { Button } from \"@react-native-material/core\";\nimport { ScrollView } from \"react-native-gesture-handler\";\nimport { MaterialIcons } from \"@expo/vector-icons\";\nimport BotellaImg from \"../assets/botella.png\";\nimport CopaImg from \"../assets/copa2.jpg\";\nimport { useSelector } from \"react-redux\";\nimport moment from \"moment/moment\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nexport default function App(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var user = useSelector(function (state) {\n    return state.userStore;\n  });\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      listProducts = _useState4[0],\n      setlistProducts = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      listBotellas = _useState6[0],\n      setListBotellas = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      listRefrescos = _useState8[0],\n      setlistRefrescos = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      listBebibasBotella = _useState10[0],\n      setListBebibasBotella = _useState10[1];\n\n  var _useState11 = useState([]),\n      _useState12 = _slicedToArray(_useState11, 2),\n      comanda = _useState12[0],\n      setComanda = _useState12[1];\n\n  var _useState13 = useState(null),\n      _useState14 = _slicedToArray(_useState13, 2),\n      botella = _useState14[0],\n      setBotella = _useState14[1];\n\n  var _useState15 = useState(0),\n      _useState16 = _slicedToArray(_useState15, 2),\n      precioComanda = _useState16[0],\n      setPrecioComanda = _useState16[1];\n\n  var _useState17 = useState(null),\n      _useState18 = _slicedToArray(_useState17, 2),\n      pickCopa = _useState18[0],\n      setPickCopa = _useState18[1];\n\n  var _useState19 = useState(null),\n      _useState20 = _slicedToArray(_useState19, 2),\n      pickBotella = _useState20[0],\n      setPickBotella = _useState20[1];\n\n  var _useState21 = useState({}),\n      _useState22 = _slicedToArray(_useState21, 2),\n      mesa = _useState22[0],\n      setMesa = _useState22[1];\n\n  var loadProducts = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var data = yield getProducts();\n      setlistProducts(data);\n    });\n\n    return function loadProducts() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var loadMesa = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      var data = yield getMesa(route.params.idMesa);\n      setMesa(data[0]);\n      console.log(data);\n    });\n\n    return function loadMesa() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  useEffect(function () {\n    loadProducts();\n\n    if (route) {\n      console.log(route.params);\n      loadMesa();\n    }\n  }, []);\n  var bottomSheetModalRef = useRef(null);\n  var snapPoints = [\"45%\", \"75%\", \"100%\"];\n\n  var agregarBotella = function agregarBotella(botella, refrescos) {\n    bottomSheetModalRef.current.close();\n    var listRefrescos = [];\n    refrescos.forEach(function (refresco) {\n      return listRefrescos.push(refresco.imagen);\n    });\n    var newComandaBotella = {\n      idComanda: uuidv4(),\n      referencia: \"Botella\",\n      producto: botella.nombre,\n      imagenPrincipal: botella.imagen,\n      listRefrescos: listRefrescos,\n      precio: botella.precio,\n      pagadaIndiComanda: false\n    };\n    setComanda([].concat(_toConsumableArray(comanda), [newComandaBotella]));\n    setPrecioComanda(precioComanda + botella.precio);\n  };\n\n  var agregarComandaBackend = function agregarComandaBackend() {\n    if (comanda.length > 0) {\n      var newComanda = {\n        idMesa: route.params.idMesa,\n        datosMesa: \"Ninguno\",\n        tipo: \"Ninguno\",\n        contenido: comanda,\n        precioComanda: precioComanda,\n        fecha: moment(),\n        atendidoPor: user.nombre,\n        pagada: false,\n        idCaja: \"Cerrada\"\n      };\n      setComanda([]);\n      setPrecioComanda(0);\n      addComanda(newComanda);\n      navigation.navigate(\"EstadoMesaScreen\", {\n        id: route.params.idMesa\n      });\n    } else {\n      Alert.alert(\"Comanda vacia\");\n    }\n  };\n\n  var agregarCopa = function agregarCopa(copa, refresco) {\n    bottomSheetModalRef.current.close();\n    var newComandaCopa = {\n      idComanda: uuidv4(),\n      referencia: \"Copa\",\n      producto: copa.nombre,\n      imagenPrincipal: copa.imagen,\n      listRefrescos: [refresco.imagen],\n      precio: 10,\n      pagadaIndiComanda: false\n    };\n    setComanda([].concat(_toConsumableArray(comanda), [newComandaCopa]));\n    setPrecioComanda(precioComanda + newComandaCopa.precio);\n  };\n\n  var handleBotella = function handleBotella(botella) {\n    setBotella(botella);\n    var arrayRefrescos = listProducts.filter(function (element) {\n      return element.categoriaMin == \"refresco\";\n    });\n    setlistRefrescos(arrayRefrescos);\n  };\n\n  var handleListBebidas = function handleListBebidas(refresco) {\n    if (listBebibasBotella.length < 12) {\n      var newRefresco = _objectSpread(_objectSpread({}, refresco), {}, {\n        idDelete: uuidv4()\n      });\n\n      setListBebibasBotella([].concat(_toConsumableArray(listBebibasBotella), [newRefresco]));\n    }\n  };\n\n  function handlePresentModal() {\n    var _bottomSheetModalRef$;\n\n    (_bottomSheetModalRef$ = bottomSheetModalRef.current) == null ? void 0 : _bottomSheetModalRef$.present();\n    setTimeout(function () {\n      setIsOpen(true);\n    }, 100);\n    var arrayBotellas = listProducts.filter(function (element) {\n      return element.categoriaMin == \"botella\";\n    });\n    setListBotellas(arrayBotellas);\n  }\n\n  var handleModalBotella = function handleModalBotella() {\n    setPickBotella(true);\n    handlePresentModal();\n  };\n\n  var changePickCopa = function changePickCopa() {\n    setPickCopa(true);\n    handlePresentModal();\n  };\n\n  var deleteBebida = function deleteBebida(id) {\n    var newArray = listBebibasBotella.filter(function (element) {\n      return element.idDelete !== id;\n    });\n    setListBebibasBotella(newArray);\n  };\n\n  var handleDismiss = function handleDismiss() {\n    setIsOpen(false);\n    setBotella(null);\n    setPickBotella(null);\n    setPickCopa(null);\n    setListBebibasBotella([]);\n  };\n\n  var deleteIdComanda = function deleteIdComanda(id, precio) {\n    var newArray = comanda.filter(function (comanda) {\n      return comanda.idComanda != id;\n    });\n    setComanda(newArray);\n    setPrecioComanda(precioComanda - precio);\n  };\n\n  return _jsx(BottomSheetModalProvider, {\n    children: _jsx(ScrollView, {\n      style: {\n        backgroundColor: \"black\"\n      },\n      contentContainerStyle: {\n        flexGrow: 1,\n        justifyContent: \"center\"\n      },\n      children: _jsxs(View, {\n        style: [styles.container, {\n          backgroundColor: isOpen ? \"black\" : \"black\"\n        }],\n        children: [_jsxs(View, {\n          style: {\n            width: \"95%\",\n            minHeight: 150,\n            backgroundColor: \"white\",\n            borderRadius: 15,\n            padding: 10\n          },\n          children: [_jsxs(Text, {\n            style: {\n              fontSize: 22,\n              fontWeight: \"bold\",\n              color: \"#56636F\"\n            },\n            children: [\"Mesa \", mesa.numeroMesa]\n          }), _jsx(View, {\n            style: {\n              width: \"100%\",\n              borderBottomWidth: StyleSheet.hairlineWidth,\n              borderBottomColor: \"gray\",\n              marginVertical: 10\n            }\n          }), comanda.length == 0 ? _jsx(_Fragment, {\n            children: _jsx(Text, {\n              children: \"La comanda esta vacia\"\n            })\n          }) : comanda.map(function (comanda, index) {\n            return _jsx(View, {\n              style: {\n                borderWidth: 0.5,\n                width: \"100%\",\n                borderRadius: 10,\n                borderColor: \"gray\",\n                backgroundColor: \"#F1F1F1\",\n                padding: 10,\n                flexDirection: \"row\",\n                alignItems: \"center\",\n                marginVertical: 5\n              },\n              children: _jsxs(View, {\n                style: {\n                  flexDirection: \"row\"\n                },\n                children: [_jsx(View, {\n                  style: {\n                    width: 57\n                  },\n                  children: _jsx(Image, {\n                    source: {\n                      uri: \"http://192.168.0.14:4000/\" + comanda.imagenPrincipal\n                    },\n                    style: {\n                      width: \"100%\",\n                      height: 90\n                    }\n                  })\n                }), _jsxs(View, {\n                  style: {\n                    justifyContent: \"space-between\",\n                    width: \"85%\"\n                  },\n                  children: [_jsxs(View, {\n                    style: {\n                      flexDirection: \"row\",\n                      paddingHorizontal: 5,\n                      alignItems: \"center\"\n                    },\n                    children: [_jsx(View, {\n                      style: {\n                        borderColor: comanda.referencia == \"Botella\" ? \"red\" : \"green\",\n                        borderWidth: 1,\n                        borderRadius: 15,\n                        padding: 5,\n                        backgroundColor: comanda.referencia == \"Botella\" ? \"red\" : \"green\",\n                        marginRight: 5,\n                        marginBottom: 5\n                      },\n                      children: _jsx(Text, {\n                        style: {\n                          fontSize: 18,\n                          fontWeight: \"bold\",\n                          color: \"white\"\n                        },\n                        children: comanda.referencia\n                      })\n                    }), _jsx(View, {\n                      style: {\n                        borderColor: \"gray\",\n                        borderWidth: 1,\n                        borderRadius: 15,\n                        padding: 5,\n                        backgroundColor: \"white\",\n                        marginRight: 5,\n                        marginBottom: 5\n                      },\n                      children: _jsx(Text, {\n                        style: {\n                          fontSize: 18\n                        },\n                        children: comanda.producto\n                      })\n                    })]\n                  }), _jsx(View, {\n                    style: {\n                      flexWrap: \"wrap\",\n                      flexDirection: \"row\"\n                    },\n                    children: comanda.listRefrescos.map(function (refresco, index) {\n                      return _jsx(Image, {\n                        source: {\n                          uri: \"http://192.168.0.14:4000/\" + refresco\n                        },\n                        style: {\n                          width: 30,\n                          height: 30,\n                          marginHorizontal: 2\n                        }\n                      }, index);\n                    })\n                  }), _jsxs(View, {\n                    style: {\n                      flexDirection: \"row\",\n                      justifyContent: \"flex-end\",\n                      alignItems: \"center\",\n                      marginTop: 5\n                    },\n                    children: [_jsx(TouchableOpacity, {\n                      onPress: function onPress() {\n                        return deleteIdComanda(comanda.idComanda, comanda.precio);\n                      },\n                      children: _jsxs(View, {\n                        style: {\n                          borderWidth: 0.3,\n                          borderColor: \"red\",\n                          padding: 10,\n                          backgroundColor: \"#F7F7F7\",\n                          borderRadius: 15,\n                          marginHorizontal: 5,\n                          flexDirection: \"row\",\n                          alignItems: \"center\"\n                        },\n                        children: [_jsx(Text, {\n                          children: \"Eliminar\"\n                        }), _jsx(MaterialIcons, {\n                          name: \"delete\",\n                          size: 24,\n                          color: \"#DC0000\"\n                        })]\n                      })\n                    }), _jsx(View, {\n                      style: {\n                        borderWidth: 0.3,\n                        padding: 10,\n                        backgroundColor: \"#F7F7F7\",\n                        borderRadius: 15\n                      },\n                      children: _jsxs(Text, {\n                        style: {\n                          textAlign: \"right\",\n                          fontSize: 18,\n                          fontWeight: \"bold\",\n                          color: \"#434343\"\n                        },\n                        children: [comanda.precio, \"\\u20AC\"]\n                      })\n                    })]\n                  })]\n                })]\n              })\n            }, index);\n          }), _jsxs(Text, {\n            style: {\n              textAlign: \"right\",\n              fontSize: 22,\n              marginVertical: 20,\n              fontWeight: \"bold\"\n            },\n            children: [\"Total: \", precioComanda, \"\\u20AC\"]\n          }), _jsx(Button, {\n            title: \"Ordenar comanda\",\n            onPress: function onPress() {\n              return agregarComandaBackend(comanda);\n            },\n            style: {\n              backgroundColor: comanda.length > 0 ? \"green\" : \"gray\"\n            }\n          })]\n        }), _jsxs(View, {\n          style: {\n            width: \"95%\",\n            backgroundColor: \"white\",\n            borderRadius: 15,\n            padding: 10,\n            marginVertical: 15,\n            flexDirection: \"row\",\n            flexWrap: \"wrap\"\n          },\n          children: [_jsx(View, {\n            style: {\n              width: 80\n            },\n            children: _jsxs(TouchableOpacity, {\n              onPress: function onPress() {\n                return handleModalBotella();\n              },\n              children: [_jsx(Image, {\n                source: BotellaImg,\n                style: {\n                  width: 80,\n                  height: 80\n                }\n              }), _jsx(Text, {\n                style: {\n                  textAlign: \"center\"\n                },\n                children: \"Botella\"\n              })]\n            })\n          }), _jsx(View, {\n            style: {\n              width: 80\n            },\n            children: _jsxs(TouchableOpacity, {\n              onPress: function onPress() {\n                return changePickCopa();\n              },\n              children: [_jsx(Image, {\n                source: CopaImg,\n                style: {\n                  width: 80,\n                  height: 80\n                }\n              }), _jsx(Text, {\n                style: {\n                  textAlign: \"center\"\n                },\n                children: \"Copa\"\n              })]\n            })\n          })]\n        }), _jsx(BottomSheetModal, {\n          ref: bottomSheetModalRef,\n          index: 1,\n          snapPoints: snapPoints,\n          backgroundStyle: {\n            borderRadius: 50,\n            backgroundColor: \"#F7F7F7\",\n            shadowColor: \"#000\",\n            shadowOffset: {\n              width: 0,\n              height: 2\n            },\n            shadowOpacity: 0.25,\n            shadowRadius: 3.84,\n            elevation: 5,\n            zIndex: 0\n          },\n          onDismiss: function onDismiss() {\n            return handleDismiss();\n          },\n          children: _jsxs(View, {\n            style: styles.contentContainer,\n            children: [pickBotella != null ? _jsxs(_Fragment, {\n              children: [_jsxs(Text, {\n                style: {\n                  fontSize: 22,\n                  fontWeight: \"bold\"\n                },\n                children: [\"Seleccionar \", botella == null ? \"Botella\" : \"Refresco\", \":\", \" \"]\n              }), _jsx(View, {\n                style: {\n                  flexDirection: \"row\",\n                  flexWrap: \"wrap\"\n                },\n                children: botella === null ? listBotellas.map(function (botella, index) {\n                  return _jsx(View, {\n                    style: {\n                      marginHorizontal: 10\n                    },\n                    children: _jsxs(TouchableOpacity, {\n                      onPress: function onPress() {\n                        return handleBotella(botella);\n                      },\n                      children: [_jsx(Image, {\n                        source: {\n                          uri: \"http://192.168.0.14:4000/\" + botella.imagen\n                        },\n                        style: {\n                          width: 50,\n                          height: 50\n                        }\n                      }), _jsxs(Text, {\n                        style: {\n                          textAlign: \"center\"\n                        },\n                        children: [botella.precio, \"\\u20AC\"]\n                      })]\n                    })\n                  }, index);\n                }) : listRefrescos.map(function (refresco, index) {\n                  return _jsx(View, {\n                    style: {\n                      marginHorizontal: 5\n                    },\n                    children: _jsx(TouchableOpacity, {\n                      onPress: function onPress() {\n                        return handleListBebidas(refresco);\n                      },\n                      children: _jsx(Image, {\n                        source: {\n                          uri: \"http://192.168.0.14:4000/\" + refresco.imagen\n                        },\n                        style: {\n                          width: 50,\n                          height: 50\n                        }\n                      })\n                    })\n                  }, index);\n                })\n              }), _jsx(View, {\n                style: {\n                  width: \"100%\",\n                  borderBottomWidth: StyleSheet.hairlineWidth,\n                  borderBottomColor: \"gray\",\n                  marginVertical: 20\n                }\n              }), botella && _jsxs(_Fragment, {\n                children: [_jsxs(Text, {\n                  style: {\n                    fontSize: 22,\n                    fontWeight: \"bold\"\n                  },\n                  children: [\"Refrescos: \", listBebibasBotella.length, \"/12\"]\n                }), _jsx(Text, {\n                  children: \"(Pulsa para eliminar)\"\n                }), _jsx(View, {\n                  style: {\n                    flexDirection: \"row\",\n                    flexWrap: \"wrap\"\n                  },\n                  children: listBebibasBotella.map(function (bebida, index) {\n                    return _jsx(View, {\n                      style: {\n                        margin: 5\n                      },\n                      children: _jsx(TouchableOpacity, {\n                        onPress: function onPress() {\n                          return deleteBebida(bebida.idDelete);\n                        },\n                        children: _jsx(Image, {\n                          source: {\n                            uri: \"http://192.168.0.14:4000/\" + bebida.imagen\n                          },\n                          style: {\n                            width: 35,\n                            height: 35\n                          }\n                        })\n                      })\n                    }, index);\n                  })\n                }), _jsx(View, {\n                  children: _jsx(Button, {\n                    title: \"Agregar botella\",\n                    onPress: function onPress() {\n                      return agregarBotella(botella, listBebibasBotella);\n                    },\n                    style: {\n                      backgroundColor: listBebibasBotella.length < 12 ? \"gray\" : \"green\"\n                    }\n                  })\n                })]\n              })]\n            }) : _jsx(_Fragment, {}), pickCopa != null ? _jsxs(_Fragment, {\n              children: [_jsxs(Text, {\n                style: {\n                  fontSize: 22,\n                  fontWeight: \"bold\"\n                },\n                children: [\"Seleccionar \", botella == null ? \"Botella\" : \"Refresco\", \":\", \" \"]\n              }), _jsx(View, {\n                style: {\n                  flexDirection: \"row\",\n                  flexWrap: \"wrap\"\n                },\n                children: botella === null ? listBotellas.map(function (botella, index) {\n                  return _jsx(View, {\n                    style: {\n                      marginHorizontal: 10,\n                      alignItems: \"center\",\n                      justifyContent: \"center\"\n                    },\n                    children: _jsxs(TouchableOpacity, {\n                      onPress: function onPress() {\n                        return handleBotella(botella);\n                      },\n                      children: [_jsx(Image, {\n                        source: {\n                          uri: \"http://192.168.0.14:4000/\" + botella.imagen\n                        },\n                        style: {\n                          width: 50,\n                          height: 50\n                        }\n                      }), _jsx(Text, {\n                        style: {\n                          textAlign: \"center\"\n                        },\n                        children: botella.nombre\n                      })]\n                    })\n                  }, index);\n                }) : listRefrescos.map(function (refresco, index) {\n                  return _jsx(View, {\n                    style: {\n                      marginHorizontal: 5\n                    },\n                    children: _jsx(TouchableOpacity, {\n                      onPress: function onPress() {\n                        return agregarCopa(botella, refresco);\n                      },\n                      children: _jsx(Image, {\n                        source: {\n                          uri: \"http://192.168.0.14:4000/\" + refresco.imagen\n                        },\n                        style: {\n                          width: 50,\n                          height: 50\n                        }\n                      })\n                    })\n                  }, index);\n                })\n              }), _jsx(View, {\n                style: {\n                  width: \"100%\",\n                  borderBottomWidth: StyleSheet.hairlineWidth,\n                  borderBottomColor: \"gray\",\n                  marginVertical: 20\n                }\n              })]\n            }) : _jsx(_Fragment, {})]\n          })\n        })]\n      })\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: \"gray\",\n    alignItems: \"center\"\n  },\n  contentContainer: {\n    flex: 1,\n    paddingHorizontal: 15\n  },\n  row: {\n    width: \"100%\",\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    marginVertical: 10\n  },\n  title: {\n    fontWeight: \"900\",\n    letterSpacing: 0.5,\n    fontSize: 16\n  },\n  subtitle: {\n    color: \"#101318\",\n    fontSize: 14,\n    fontWeight: \"bold\"\n  },\n  description: {\n    color: \"#56636F\",\n    fontSize: 13,\n    fontWeight: \"normal\",\n    width: \"100%\"\n  }\n});","map":{"version":3,"names":["BottomSheetModal","BottomSheetModalProvider","useRef","useState","useEffect","API","getProducts","addComanda","getMesa","v4","uuidv4","Button","ScrollView","MaterialIcons","BotellaImg","CopaImg","useSelector","moment","App","navigation","route","user","state","userStore","isOpen","setIsOpen","listProducts","setlistProducts","listBotellas","setListBotellas","listRefrescos","setlistRefrescos","listBebibasBotella","setListBebibasBotella","comanda","setComanda","botella","setBotella","precioComanda","setPrecioComanda","pickCopa","setPickCopa","pickBotella","setPickBotella","mesa","setMesa","loadProducts","data","loadMesa","params","idMesa","console","log","bottomSheetModalRef","snapPoints","agregarBotella","refrescos","current","close","forEach","refresco","push","imagen","newComandaBotella","idComanda","referencia","producto","nombre","imagenPrincipal","precio","pagadaIndiComanda","agregarComandaBackend","length","newComanda","datosMesa","tipo","contenido","fecha","atendidoPor","pagada","idCaja","navigate","id","Alert","alert","agregarCopa","copa","newComandaCopa","handleBotella","arrayRefrescos","filter","element","categoriaMin","handleListBebidas","newRefresco","idDelete","handlePresentModal","present","setTimeout","arrayBotellas","handleModalBotella","changePickCopa","deleteBebida","newArray","handleDismiss","deleteIdComanda","backgroundColor","flexGrow","justifyContent","styles","container","width","minHeight","borderRadius","padding","fontSize","fontWeight","color","numeroMesa","borderBottomWidth","StyleSheet","hairlineWidth","borderBottomColor","marginVertical","map","index","borderWidth","borderColor","flexDirection","alignItems","uri","height","paddingHorizontal","marginRight","marginBottom","flexWrap","marginHorizontal","marginTop","textAlign","shadowColor","shadowOffset","shadowOpacity","shadowRadius","elevation","zIndex","contentContainer","bebida","margin","create","flex","row","title","letterSpacing","subtitle","description"],"sources":["C:/Users/xabig/Desktop/ProyectoPiconera2/clientev2/screens/CrearComandav2.js"],"sourcesContent":["import \"react-native-gesture-handler\";\r\nimport \"react-native-get-random-values\";\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  TouchableOpacity,\r\n  View,\r\n  Image,\r\n  Alert,\r\n} from \"react-native\";\r\nimport {\r\n  BottomSheetModal,\r\n  BottomSheetModalProvider,\r\n} from \"@gorhom/bottom-sheet\";\r\nimport { useRef, useState, useEffect } from \"react\";\r\nimport { API, getProducts, addComanda, getMesa } from \"../api\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { Button } from \"@react-native-material/core\";\r\nimport { ScrollView } from \"react-native-gesture-handler\";\r\nimport { MaterialIcons } from \"@expo/vector-icons\";\r\nimport BotellaImg from \"../assets/botella.png\";\r\nimport CopaImg from \"../assets/copa2.jpg\";\r\nimport { useSelector } from \"react-redux\";\r\nimport moment from \"moment/moment\";\r\nexport default function App({ navigation, route }) {\r\n  const user = useSelector((state) => state.userStore);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [listProducts, setlistProducts] = useState([]);\r\n  const [listBotellas, setListBotellas] = useState([]);\r\n  const [listRefrescos, setlistRefrescos] = useState([]);\r\n  const [listBebibasBotella, setListBebibasBotella] = useState([]);\r\n  const [comanda, setComanda] = useState([]);\r\n  const [botella, setBotella] = useState(null);\r\n  const [precioComanda, setPrecioComanda] = useState(0);\r\n  const [pickCopa, setPickCopa] = useState(null);\r\n  const [pickBotella, setPickBotella] = useState(null);\r\n  const [mesa, setMesa] = useState({});\r\n  const loadProducts = async () => {\r\n    const data = await getProducts();\r\n    setlistProducts(data);\r\n  };\r\n  const loadMesa = async () => {\r\n    const data = await getMesa(route.params.idMesa);\r\n    setMesa(data[0]);\r\n    console.log(data);\r\n  };\r\n  useEffect(() => {\r\n    loadProducts();\r\n    if (route) {\r\n      console.log(route.params);\r\n      loadMesa();\r\n    }\r\n  }, []);\r\n\r\n  const bottomSheetModalRef = useRef(null);\r\n  const snapPoints = [\"45%\", \"75%\", \"100%\"];\r\n\r\n  const agregarBotella = (botella, refrescos) => {\r\n    bottomSheetModalRef.current.close();\r\n    let listRefrescos = [];\r\n    refrescos.forEach((refresco) => listRefrescos.push(refresco.imagen));\r\n    const newComandaBotella = {\r\n      idComanda: uuidv4(),\r\n      referencia: \"Botella\",\r\n      producto: botella.nombre,\r\n      imagenPrincipal: botella.imagen,\r\n      listRefrescos,\r\n      precio: botella.precio,\r\n      pagadaIndiComanda: false,\r\n    };\r\n    setComanda([...comanda, newComandaBotella]);\r\n    setPrecioComanda(precioComanda + botella.precio);\r\n  };\r\n  const agregarComandaBackend = () => {\r\n    if (comanda.length > 0) {\r\n      const newComanda = {\r\n        idMesa: route.params.idMesa,\r\n        datosMesa: \"Ninguno\",\r\n        tipo: \"Ninguno\",\r\n        contenido: comanda,\r\n        precioComanda,\r\n        fecha: moment(),\r\n        atendidoPor: user.nombre,\r\n        pagada: false,\r\n        idCaja: \"Cerrada\",\r\n      };\r\n      setComanda([]);\r\n      setPrecioComanda(0);\r\n      addComanda(newComanda);\r\n      navigation.navigate(\"EstadoMesaScreen\", { id: route.params.idMesa });\r\n    } else {\r\n      Alert.alert(\"Comanda vacia\");\r\n    }\r\n  };\r\n  const agregarCopa = (copa, refresco) => {\r\n    bottomSheetModalRef.current.close();\r\n    const newComandaCopa = {\r\n      idComanda: uuidv4(),\r\n      referencia: \"Copa\",\r\n      producto: copa.nombre,\r\n      imagenPrincipal: copa.imagen,\r\n      listRefrescos: [refresco.imagen],\r\n      precio: 10,\r\n      pagadaIndiComanda: false,\r\n    };\r\n    setComanda([...comanda, newComandaCopa]);\r\n    setPrecioComanda(precioComanda + newComandaCopa.precio);\r\n  };\r\n\r\n  const handleBotella = (botella) => {\r\n    setBotella(botella);\r\n    const arrayRefrescos = listProducts.filter(\r\n      (element) => element.categoriaMin == \"refresco\"\r\n    );\r\n    setlistRefrescos(arrayRefrescos);\r\n  };\r\n  const handleListBebidas = (refresco) => {\r\n    if (listBebibasBotella.length < 12) {\r\n      const newRefresco = {\r\n        ...refresco,\r\n        idDelete: uuidv4(),\r\n      };\r\n      setListBebibasBotella([...listBebibasBotella, newRefresco]);\r\n    }\r\n  };\r\n\r\n  function handlePresentModal() {\r\n    bottomSheetModalRef.current?.present();\r\n    setTimeout(() => {\r\n      setIsOpen(true);\r\n    }, 100);\r\n    const arrayBotellas = listProducts.filter(\r\n      (element) => element.categoriaMin == \"botella\"\r\n    );\r\n    setListBotellas(arrayBotellas);\r\n  }\r\n\r\n  const handleModalBotella = () => {\r\n    setPickBotella(true);\r\n    handlePresentModal();\r\n  };\r\n  const changePickCopa = () => {\r\n    setPickCopa(true);\r\n    handlePresentModal();\r\n  };\r\n\r\n  const deleteBebida = (id) => {\r\n    const newArray = listBebibasBotella.filter(\r\n      (element) => element.idDelete !== id\r\n    );\r\n    setListBebibasBotella(newArray);\r\n  };\r\n\r\n  const handleDismiss = () => {\r\n    setIsOpen(false);\r\n    setBotella(null);\r\n    setPickBotella(null);\r\n    setPickCopa(null);\r\n    setListBebibasBotella([]);\r\n  };\r\n  const deleteIdComanda = (id, precio) => {\r\n    const newArray = comanda.filter((comanda) => comanda.idComanda != id);\r\n    setComanda(newArray);\r\n    setPrecioComanda(precioComanda - precio);\r\n  };\r\n  return (\r\n    <BottomSheetModalProvider>\r\n      <ScrollView\r\n        style={{\r\n          backgroundColor: \"black\",\r\n        }}\r\n        contentContainerStyle={{ flexGrow: 1, justifyContent: \"center\" }}\r\n      >\r\n        <View\r\n          style={[\r\n            styles.container,\r\n            { backgroundColor: isOpen ? \"black\" : \"black\" },\r\n          ]}\r\n        >\r\n          <View\r\n            style={{\r\n              width: \"95%\",\r\n              minHeight: 150,\r\n              backgroundColor: \"white\",\r\n              borderRadius: 15,\r\n              padding: 10,\r\n            }}\r\n          >\r\n            <Text\r\n              style={{ fontSize: 22, fontWeight: \"bold\", color: \"#56636F\" }}\r\n            >\r\n              Mesa {mesa.numeroMesa}\r\n            </Text>\r\n            <View\r\n              style={{\r\n                width: \"100%\",\r\n                borderBottomWidth: StyleSheet.hairlineWidth,\r\n                borderBottomColor: \"gray\",\r\n                marginVertical: 10,\r\n              }}\r\n            />\r\n            {comanda.length == 0 ? (\r\n              <>\r\n                <Text>La comanda esta vacia</Text>\r\n              </>\r\n            ) : (\r\n              comanda.map((comanda, index) => (\r\n                <View\r\n                  key={index}\r\n                  style={{\r\n                    borderWidth: 0.5,\r\n                    width: \"100%\",\r\n                    borderRadius: 10,\r\n                    borderColor: \"gray\",\r\n                    backgroundColor: \"#F1F1F1\",\r\n                    padding: 10,\r\n                    flexDirection: \"row\",\r\n                    alignItems: \"center\",\r\n                    marginVertical: 5,\r\n                  }}\r\n                >\r\n                  <View style={{ flexDirection: \"row\" }}>\r\n                    <View style={{ width: 57 }}>\r\n                      <Image\r\n                        source={{\r\n                          uri: `http://192.168.0.14:4000/${comanda.imagenPrincipal}`,\r\n                        }}\r\n                        style={{ width: \"100%\", height: 90 }}\r\n                      />\r\n                    </View>\r\n                    <View\r\n                      style={{ justifyContent: \"space-between\", width: \"85%\" }}\r\n                    >\r\n                      <View\r\n                        style={{\r\n                          flexDirection: \"row\",\r\n                          paddingHorizontal: 5,\r\n                          alignItems: \"center\",\r\n                        }}\r\n                      >\r\n                        <View\r\n                          style={{\r\n                            borderColor:\r\n                              comanda.referencia == \"Botella\" ? \"red\" : \"green\",\r\n                            borderWidth: 1,\r\n                            borderRadius: 15,\r\n                            padding: 5,\r\n                            backgroundColor:\r\n                              comanda.referencia == \"Botella\" ? \"red\" : \"green\",\r\n                            marginRight: 5,\r\n                            marginBottom: 5,\r\n                          }}\r\n                        >\r\n                          <Text\r\n                            style={{\r\n                              fontSize: 18,\r\n                              fontWeight: \"bold\",\r\n                              color: \"white\",\r\n                            }}\r\n                          >\r\n                            {comanda.referencia}\r\n                          </Text>\r\n                        </View>\r\n                        <View\r\n                          style={{\r\n                            borderColor: \"gray\",\r\n                            borderWidth: 1,\r\n                            borderRadius: 15,\r\n                            padding: 5,\r\n                            backgroundColor: \"white\",\r\n                            marginRight: 5,\r\n                            marginBottom: 5,\r\n                          }}\r\n                        >\r\n                          <Text style={{ fontSize: 18 }}>\r\n                            {comanda.producto}\r\n                          </Text>\r\n                        </View>\r\n                      </View>\r\n                      <View style={{ flexWrap: \"wrap\", flexDirection: \"row\" }}>\r\n                        {comanda.listRefrescos.map((refresco, index) => (\r\n                          <Image\r\n                            key={index}\r\n                            source={{\r\n                              uri: `http://192.168.0.14:4000/${refresco}`,\r\n                            }}\r\n                            style={{\r\n                              width: 30,\r\n                              height: 30,\r\n                              marginHorizontal: 2,\r\n                            }}\r\n                          />\r\n                        ))}\r\n                      </View>\r\n                      <View\r\n                        style={{\r\n                          flexDirection: \"row\",\r\n                          justifyContent: \"flex-end\",\r\n                          alignItems: \"center\",\r\n                          marginTop: 5,\r\n                        }}\r\n                      >\r\n                        <TouchableOpacity\r\n                          onPress={() =>\r\n                            deleteIdComanda(comanda.idComanda, comanda.precio)\r\n                          }\r\n                        >\r\n                          <View\r\n                            style={{\r\n                              borderWidth: 0.3,\r\n                              borderColor: \"red\",\r\n                              padding: 10,\r\n                              backgroundColor: \"#F7F7F7\",\r\n                              borderRadius: 15,\r\n                              marginHorizontal: 5,\r\n                              flexDirection: \"row\",\r\n                              alignItems: \"center\",\r\n                            }}\r\n                          >\r\n                            <Text>Eliminar</Text>\r\n                            <MaterialIcons\r\n                              name=\"delete\"\r\n                              size={24}\r\n                              color=\"#DC0000\"\r\n                            />\r\n                          </View>\r\n                        </TouchableOpacity>\r\n\r\n                        <View\r\n                          style={{\r\n                            borderWidth: 0.3,\r\n                            padding: 10,\r\n                            backgroundColor: \"#F7F7F7\",\r\n                            borderRadius: 15,\r\n                          }}\r\n                        >\r\n                          <Text\r\n                            style={{\r\n                              textAlign: \"right\",\r\n                              fontSize: 18,\r\n                              fontWeight: \"bold\",\r\n                              color: \"#434343\",\r\n                            }}\r\n                          >\r\n                            {comanda.precio}€\r\n                          </Text>\r\n                        </View>\r\n                      </View>\r\n                    </View>\r\n                  </View>\r\n                </View>\r\n              ))\r\n            )}\r\n            <Text\r\n              style={{\r\n                textAlign: \"right\",\r\n                fontSize: 22,\r\n                marginVertical: 20,\r\n                fontWeight: \"bold\",\r\n              }}\r\n            >\r\n              Total: {precioComanda}€\r\n            </Text>\r\n            <Button\r\n              title=\"Ordenar comanda\"\r\n              onPress={() => agregarComandaBackend(comanda)}\r\n              style={{ backgroundColor: comanda.length > 0 ? \"green\" : \"gray\" }}\r\n            />\r\n          </View>\r\n          <View\r\n            style={{\r\n              width: \"95%\",\r\n              backgroundColor: \"white\",\r\n              borderRadius: 15,\r\n              padding: 10,\r\n              marginVertical: 15,\r\n              flexDirection: \"row\",\r\n              flexWrap: \"wrap\",\r\n            }}\r\n          >\r\n            <View style={{ width: 80 }}>\r\n              <TouchableOpacity onPress={() => handleModalBotella()}>\r\n                <Image source={BotellaImg} style={{ width: 80, height: 80 }} />\r\n                <Text style={{ textAlign: \"center\" }}>Botella</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n            <View style={{ width: 80 }}>\r\n              <TouchableOpacity onPress={() => changePickCopa()}>\r\n                <Image source={CopaImg} style={{ width: 80, height: 80 }} />\r\n                <Text style={{ textAlign: \"center\" }}>Copa</Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n          <BottomSheetModal\r\n            ref={bottomSheetModalRef}\r\n            index={1}\r\n            snapPoints={snapPoints}\r\n            backgroundStyle={{\r\n              borderRadius: 50,\r\n              backgroundColor: \"#F7F7F7\",\r\n              shadowColor: \"#000\",\r\n              shadowOffset: {\r\n                width: 0,\r\n                height: 2,\r\n              },\r\n              shadowOpacity: 0.25,\r\n              shadowRadius: 3.84,\r\n\r\n              elevation: 5,\r\n              zIndex: 0,\r\n            }}\r\n            onDismiss={() => handleDismiss()}\r\n          >\r\n            <View style={styles.contentContainer}>\r\n              {pickBotella != null ? (\r\n                <>\r\n                  <Text style={{ fontSize: 22, fontWeight: \"bold\" }}>\r\n                    Seleccionar {botella == null ? \"Botella\" : \"Refresco\"}:{\" \"}\r\n                  </Text>\r\n                  <View style={{ flexDirection: \"row\", flexWrap: \"wrap\" }}>\r\n                    {botella === null\r\n                      ? listBotellas.map((botella, index) => (\r\n                          <View key={index} style={{ marginHorizontal: 10 }}>\r\n                            <TouchableOpacity\r\n                              onPress={() => handleBotella(botella)}\r\n                            >\r\n                              <Image\r\n                                source={{\r\n                                  uri: `http://192.168.0.14:4000/${botella.imagen}`,\r\n                                }}\r\n                                style={{ width: 50, height: 50 }}\r\n                              />\r\n                              <Text style={{ textAlign: \"center\" }}>\r\n                                {botella.precio}€\r\n                              </Text>\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        ))\r\n                      : listRefrescos.map((refresco, index) => (\r\n                          <View key={index} style={{ marginHorizontal: 5 }}>\r\n                            <TouchableOpacity\r\n                              onPress={() => handleListBebidas(refresco)}\r\n                            >\r\n                              <Image\r\n                                source={{\r\n                                  uri: `http://192.168.0.14:4000/${refresco.imagen}`,\r\n                                }}\r\n                                style={{ width: 50, height: 50 }}\r\n                              />\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        ))}\r\n                  </View>\r\n                  <View\r\n                    style={{\r\n                      width: \"100%\",\r\n                      borderBottomWidth: StyleSheet.hairlineWidth,\r\n                      borderBottomColor: \"gray\",\r\n                      marginVertical: 20,\r\n                    }}\r\n                  />\r\n                  {botella && (\r\n                    <>\r\n                      <Text style={{ fontSize: 22, fontWeight: \"bold\" }}>\r\n                        Refrescos: {listBebibasBotella.length}/12\r\n                      </Text>\r\n                      <Text>(Pulsa para eliminar)</Text>\r\n                      <View style={{ flexDirection: \"row\", flexWrap: \"wrap\" }}>\r\n                        {listBebibasBotella.map((bebida, index) => (\r\n                          <View key={index} style={{ margin: 5 }}>\r\n                            <TouchableOpacity\r\n                              onPress={() => deleteBebida(bebida.idDelete)}\r\n                            >\r\n                              <Image\r\n                                source={{\r\n                                  uri: `http://192.168.0.14:4000/${bebida.imagen}`,\r\n                                }}\r\n                                style={{ width: 35, height: 35 }}\r\n                              />\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        ))}\r\n                      </View>\r\n                      <View>\r\n                        <Button\r\n                          title=\"Agregar botella\"\r\n                          onPress={() =>\r\n                            agregarBotella(botella, listBebibasBotella)\r\n                          }\r\n                          style={{\r\n                            backgroundColor:\r\n                              listBebibasBotella.length < 12 ? \"gray\" : \"green\",\r\n                          }}\r\n                        />\r\n                      </View>\r\n                    </>\r\n                  )}\r\n                </>\r\n              ) : (\r\n                <></>\r\n              )}\r\n              {pickCopa != null ? (\r\n                <>\r\n                  <Text style={{ fontSize: 22, fontWeight: \"bold\" }}>\r\n                    Seleccionar {botella == null ? \"Botella\" : \"Refresco\"}:{\" \"}\r\n                  </Text>\r\n                  <View style={{ flexDirection: \"row\", flexWrap: \"wrap\" }}>\r\n                    {botella === null\r\n                      ? listBotellas.map((botella, index) => (\r\n                          <View\r\n                            key={index}\r\n                            style={{\r\n                              marginHorizontal: 10,\r\n                              alignItems: \"center\",\r\n                              justifyContent: \"center\",\r\n                            }}\r\n                          >\r\n                            <TouchableOpacity\r\n                              onPress={() => handleBotella(botella)}\r\n                            >\r\n                              <Image\r\n                                source={{\r\n                                  uri: `http://192.168.0.14:4000/${botella.imagen}`,\r\n                                }}\r\n                                style={{ width: 50, height: 50 }}\r\n                              />\r\n                              <Text style={{ textAlign: \"center\" }}>\r\n                                {botella.nombre}\r\n                              </Text>\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        ))\r\n                      : listRefrescos.map((refresco, index) => (\r\n                          <View key={index} style={{ marginHorizontal: 5 }}>\r\n                            <TouchableOpacity\r\n                              onPress={() => agregarCopa(botella, refresco)}\r\n                            >\r\n                              <Image\r\n                                source={{\r\n                                  uri: `http://192.168.0.14:4000/${refresco.imagen}`,\r\n                                }}\r\n                                style={{ width: 50, height: 50 }}\r\n                              />\r\n                            </TouchableOpacity>\r\n                          </View>\r\n                        ))}\r\n                  </View>\r\n                  <View\r\n                    style={{\r\n                      width: \"100%\",\r\n                      borderBottomWidth: StyleSheet.hairlineWidth,\r\n                      borderBottomColor: \"gray\",\r\n                      marginVertical: 20,\r\n                    }}\r\n                  />\r\n                </>\r\n              ) : (\r\n                <></>\r\n              )}\r\n            </View>\r\n          </BottomSheetModal>\r\n        </View>\r\n      </ScrollView>\r\n    </BottomSheetModalProvider>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: \"gray\",\r\n    alignItems: \"center\",\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    paddingHorizontal: 15,\r\n  },\r\n  row: {\r\n    width: \"100%\",\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n    marginVertical: 10,\r\n  },\r\n  title: {\r\n    fontWeight: \"900\",\r\n    letterSpacing: 0.5,\r\n    fontSize: 16,\r\n  },\r\n  subtitle: {\r\n    color: \"#101318\",\r\n    fontSize: 14,\r\n    fontWeight: \"bold\",\r\n  },\r\n  description: {\r\n    color: \"#56636F\",\r\n    fontSize: 13,\r\n    fontWeight: \"normal\",\r\n    width: \"100%\",\r\n  },\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}